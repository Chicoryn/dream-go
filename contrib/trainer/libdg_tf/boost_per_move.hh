// Copyright 2020 Karl Sundequist Blomdahl <karl.sundequist.blomdahl@gmail.com>
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//     http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

const float BOOST_PER_MOVE_NUMBER[] = {
    4.07725e-06, 2.67627e-05, 8.36909e-05, 1.76180e-04, 3.66401e-04, 7.75842e-04,
    1.54273e-03, 2.71048e-03, 4.28120e-03, 6.24129e-03, 8.58123e-03, 1.12654e-02,
    1.42836e-02, 1.76005e-02, 2.12017e-02, 2.50504e-02, 2.91246e-02, 3.34139e-02,
    3.78919e-02, 4.25514e-02, 4.73689e-02, 5.23241e-02, 5.74005e-02, 6.25861e-02,
    6.78641e-02, 7.32283e-02, 7.86710e-02, 8.41869e-02, 8.97686e-02, 9.54030e-02,
    1.01085e-01, 1.06800e-01, 1.12551e-01, 1.18330e-01, 1.24135e-01, 1.29961e-01,
    1.35803e-01, 1.41658e-01, 1.47523e-01, 1.53398e-01, 1.59280e-01, 1.65168e-01,
    1.71062e-01, 1.76957e-01, 1.82855e-01, 1.88752e-01, 1.94649e-01, 2.00545e-01,
    2.06440e-01, 2.12332e-01, 2.18223e-01, 2.24111e-01, 2.29996e-01, 2.35878e-01,
    2.41756e-01, 2.47632e-01, 2.53505e-01, 2.59374e-01, 2.65238e-01, 2.71098e-01,
    2.76953e-01, 2.82804e-01, 2.88650e-01, 2.94490e-01, 3.00326e-01, 3.06155e-01,
    3.11979e-01, 3.17796e-01, 3.23606e-01, 3.29408e-01, 3.35203e-01, 3.40989e-01,
    3.46767e-01, 3.52538e-01, 3.58300e-01, 3.64053e-01, 3.69798e-01, 3.75533e-01,
    3.81259e-01, 3.86975e-01, 3.92681e-01, 3.98377e-01, 4.04062e-01, 4.09736e-01,
    4.15399e-01, 4.21051e-01, 4.26691e-01, 4.32319e-01, 4.37935e-01, 4.43540e-01,
    4.49132e-01, 4.54712e-01, 4.60278e-01, 4.65831e-01, 4.71369e-01, 4.76894e-01,
    4.82405e-01, 4.87901e-01, 4.93381e-01, 4.98846e-01, 5.04294e-01, 5.09725e-01,
    5.15140e-01, 5.20536e-01, 5.25914e-01, 5.31273e-01, 5.36613e-01, 5.41933e-01,
    5.47232e-01, 5.52512e-01, 5.57773e-01, 5.63013e-01, 5.68232e-01, 5.73429e-01,
    5.78605e-01, 5.83759e-01, 5.88892e-01, 5.94001e-01, 5.99088e-01, 6.04151e-01,
    6.09189e-01, 6.14202e-01, 6.19191e-01, 6.24154e-01, 6.29090e-01, 6.34000e-01,
    6.38881e-01, 6.43735e-01, 6.48561e-01, 6.53360e-01, 6.58131e-01, 6.62873e-01,
    6.67584e-01, 6.72266e-01, 6.76917e-01, 6.81537e-01, 6.86125e-01, 6.90681e-01,
    6.95205e-01, 6.99696e-01, 7.04153e-01, 7.08576e-01, 7.12965e-01, 7.17320e-01,
    7.21638e-01, 7.25921e-01, 7.30169e-01, 7.34383e-01, 7.38560e-01, 7.42702e-01,
    7.46807e-01, 7.50878e-01, 7.54910e-01, 7.58904e-01, 7.62858e-01, 7.66774e-01,
    7.70651e-01, 7.74487e-01, 7.78285e-01, 7.82043e-01, 7.85760e-01, 7.89437e-01,
    7.93074e-01, 7.96672e-01, 8.00229e-01, 8.03746e-01, 8.07222e-01, 8.10659e-01,
    8.14052e-01, 8.17404e-01, 8.20714e-01, 8.23984e-01, 8.27212e-01, 8.30401e-01,
    8.33546e-01, 8.36653e-01, 8.39720e-01, 8.42748e-01, 8.45737e-01, 8.48688e-01,
    8.51598e-01, 8.54469e-01, 8.57303e-01, 8.60098e-01, 8.62854e-01, 8.65572e-01,
    8.68254e-01, 8.70897e-01, 8.73498e-01, 8.76058e-01, 8.78580e-01, 8.81067e-01,
    8.83516e-01, 8.85929e-01, 8.88305e-01, 8.90645e-01, 8.92948e-01, 8.95216e-01,
    8.97449e-01, 8.99646e-01, 9.01807e-01, 9.03934e-01, 9.06028e-01, 9.08089e-01,
    9.10116e-01, 9.12112e-01, 9.14075e-01, 9.16005e-01, 9.17902e-01, 9.19771e-01,
    9.21609e-01, 9.23415e-01, 9.25191e-01, 9.26936e-01, 9.28654e-01, 9.30343e-01,
    9.32003e-01, 9.33635e-01, 9.35237e-01, 9.36811e-01, 9.38357e-01, 9.39875e-01,
    9.41365e-01, 9.42828e-01, 9.44266e-01, 9.45679e-01, 9.47067e-01, 9.48428e-01,
    9.49765e-01, 9.51077e-01, 9.52366e-01, 9.53633e-01, 9.54877e-01, 9.56096e-01,
    9.57291e-01, 9.58461e-01, 9.59609e-01, 9.60733e-01, 9.61835e-01, 9.62914e-01,
    9.63972e-01, 9.65010e-01, 9.66026e-01, 9.67020e-01, 9.67995e-01, 9.68948e-01,
    9.69884e-01, 9.70799e-01, 9.71694e-01, 9.72568e-01, 9.73425e-01, 9.74264e-01,
    9.75085e-01, 9.75886e-01, 9.76668e-01, 9.77432e-01, 9.78179e-01, 9.78908e-01,
    9.79620e-01, 9.80314e-01, 9.80993e-01, 9.81652e-01, 9.82295e-01, 9.82921e-01,
    9.83531e-01, 9.84127e-01, 9.84706e-01, 9.85270e-01, 9.85817e-01, 9.86349e-01,
    9.86865e-01, 9.87366e-01, 9.87853e-01, 9.88323e-01, 9.88778e-01, 9.89220e-01,
    9.89647e-01, 9.90060e-01, 9.90461e-01, 9.90849e-01, 9.91224e-01, 9.91587e-01,
    9.91939e-01, 9.92279e-01, 9.92608e-01, 9.92925e-01, 9.93232e-01, 9.93529e-01,
    9.93815e-01, 9.94090e-01, 9.94354e-01, 9.94609e-01, 9.94855e-01, 9.95091e-01,
    9.95317e-01, 9.95535e-01, 9.95744e-01, 9.95945e-01, 9.96139e-01, 9.96326e-01,
    9.96506e-01, 9.96678e-01, 9.96842e-01, 9.97000e-01, 9.97152e-01, 9.97298e-01,
    9.97438e-01, 9.97573e-01, 9.97701e-01, 9.97823e-01, 9.97939e-01, 9.98051e-01,
    9.98157e-01, 9.98258e-01, 9.98355e-01, 9.98448e-01, 9.98536e-01, 9.98620e-01,
    9.98700e-01, 9.98776e-01, 9.98849e-01, 9.98918e-01, 9.98983e-01, 9.99044e-01,
    9.99102e-01, 9.99156e-01, 9.99208e-01, 9.99258e-01, 9.99305e-01, 9.99349e-01,
    9.99390e-01, 9.99430e-01, 9.99467e-01, 9.99502e-01, 9.99535e-01, 9.99566e-01,
    9.99595e-01, 9.99622e-01, 9.99648e-01, 9.99671e-01, 9.99694e-01, 9.99715e-01,
    9.99736e-01, 9.99755e-01, 9.99773e-01, 9.99790e-01, 9.99805e-01, 9.99820e-01,
    9.99833e-01, 9.99845e-01, 9.99857e-01, 9.99867e-01, 9.99877e-01, 9.99886e-01,
    9.99895e-01, 9.99902e-01, 9.99909e-01, 9.99916e-01, 9.99922e-01, 9.99927e-01,
    9.99932e-01, 9.99937e-01, 9.99941e-01, 9.99945e-01, 9.99948e-01, 9.99952e-01,
    9.99955e-01, 9.99958e-01, 9.99960e-01, 9.99963e-01, 9.99965e-01, 9.99967e-01,
    9.99969e-01, 9.99971e-01, 9.99973e-01, 9.99975e-01, 9.99976e-01, 9.99978e-01,
    9.99979e-01, 9.99981e-01, 9.99982e-01, 9.99983e-01, 9.99984e-01, 9.99985e-01,
    9.99985e-01, 9.99986e-01, 9.99987e-01, 9.99987e-01, 9.99988e-01, 9.99988e-01,
    9.99989e-01, 9.99989e-01, 9.99989e-01, 9.99990e-01, 9.99990e-01, 9.99990e-01,
    9.99990e-01, 9.99991e-01, 9.99991e-01, 9.99991e-01, 9.99991e-01, 9.99992e-01,
    9.99992e-01, 9.99992e-01, 9.99992e-01, 9.99992e-01, 9.99993e-01, 9.99993e-01,
    9.99993e-01, 9.99993e-01, 9.99993e-01, 9.99993e-01, 9.99994e-01, 9.99994e-01,
    9.99994e-01, 9.99994e-01, 9.99994e-01, 9.99994e-01, 9.99994e-01, 9.99995e-01,
    9.99995e-01, 9.99995e-01, 9.99995e-01, 9.99995e-01, 9.99995e-01, 9.99995e-01,
    9.99996e-01, 9.99996e-01, 9.99996e-01, 9.99996e-01, 9.99996e-01, 9.99996e-01,
    9.99997e-01, 9.99997e-01, 9.99997e-01, 9.99997e-01, 9.99997e-01, 9.99997e-01,
    9.99997e-01, 9.99997e-01, 9.99998e-01, 9.99998e-01, 9.99998e-01, 9.99998e-01,
    9.99998e-01, 9.99998e-01, 9.99998e-01, 9.99998e-01, 9.99998e-01, 9.99998e-01,
    9.99998e-01, 9.99999e-01, 9.99999e-01, 9.99999e-01, 9.99999e-01, 9.99999e-01,
    9.99999e-01, 9.99999e-01, 9.99999e-01, 9.99999e-01, 9.99999e-01, 9.99999e-01,
    9.99999e-01, 9.99999e-01, 9.99999e-01, 9.99999e-01, 9.99999e-01, 9.99999e-01,
    9.99999e-01, 9.99999e-01, 9.99999e-01, 9.99999e-01, 9.99999e-01, 9.99999e-01,
    9.99999e-01, 9.99999e-01, 9.99999e-01, 9.99999e-01, 1.00000e+00, 1.00000e+00,
};

float boost_for_move_number(int number) {
    const auto num_moves_with_boost = sizeof(BOOST_PER_MOVE_NUMBER) / sizeof(BOOST_PER_MOVE_NUMBER[0]);

    if (number <= num_moves_with_boost) {
        return BOOST_PER_MOVE_NUMBER[number - 1];
    } else {
        return 1.0;
    }
}
